{
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "WORKTREE_ROOT=$(git rev-parse --show-toplevel 2>/dev/null || pwd) && WORKTREE_ID=$(git rev-parse --git-dir 2>/dev/null | md5sum | cut -d' ' -f1 || echo \"$WORKTREE_ROOT\" | md5sum | cut -d' ' -f1) && mkdir -p \"$WORKTREE_ROOT/.claude/progress\" && touch \"$WORKTREE_ROOT/.claude/progress/prompt-$WORKTREE_ID.lock\"; echo '{\"continue\":true,\"suppressOutput\":true}'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "WORKTREE_ROOT=$(git rev-parse --show-toplevel 2>/dev/null || pwd) && WORKTREE_ID=$(git rev-parse --git-dir 2>/dev/null | md5sum | cut -d' ' -f1 || echo \"$WORKTREE_ROOT\" | md5sum | cut -d' ' -f1) && touch \"$WORKTREE_ROOT/.claude/progress/prompt-$WORKTREE_ID.lock\" 2>/dev/null; echo '{\"continue\":true,\"suppressOutput\":true}'"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "WORKTREE_ROOT=$(git rev-parse --show-toplevel 2>/dev/null || pwd) && WORKTREE_ID=$(git rev-parse --git-dir 2>/dev/null | md5sum | cut -d' ' -f1 || echo \"$WORKTREE_ROOT\" | md5sum | cut -d' ' -f1) && rm -f \"$WORKTREE_ROOT/.claude/progress/prompt-$WORKTREE_ID.lock\"; echo '{\"continue\":true,\"suppressOutput\":true}'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "WORKTREE_ROOT=$(git rev-parse --show-toplevel 2>/dev/null || pwd) && WORKTREE_ID=$(git rev-parse --git-dir 2>/dev/null | md5sum | cut -d' ' -f1 || echo \"$WORKTREE_ROOT\" | md5sum | cut -d' ' -f1) && rm -f \"$WORKTREE_ROOT/.claude/progress/prompt-$WORKTREE_ID.lock\"; echo '{\"continue\":true,\"suppressOutput\":true}'"
          }
        ]
      }
    ]
  }
}
